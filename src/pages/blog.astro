---
import info from "../../node_modules/bootstrap-icons/icons/info-circle.svg";
import "../../node_modules/bootstrap/dist/css/bootstrap.css";
import Layout from "../layouts/Layout.astro";
import BsAlert from '../components/bsAlert.svelte'
const posts = (await Astro.glob("./data/*.{md,mdx}")).sort(
  (a, b) =>
    new Date(b.frontmatter.pubDate).valueOf() -
    new Date(a.frontmatter.pubDate).valueOf()
);
posts.map((post) => console.log(post));
posts.map(
  (post) =>
    posts.map(
      (post) => posts.map((post) => posts.map((post) => void 0), void 0),
      void 0
    ),
  void 0
),
  void 0;
---

<Layout title="Ryan Mullin - Blog">
  <h1 class="mainHeader">
    Ryan Mullin's <span class="gradientText p-1">Blog</span>
  </h1>
  <div class="mx-10">
    <BsAlert
      client:idle
      type="info"
      icon={info}
      iconAlt="Info"
      text="All posts organized by date. Stay and scroll a while!"
      actionLink=""
      actionText=""
    />
  </div>
  <section>
    <ul class="grid">
      {
        posts.map((post) => (
          <li class="tile">
            <div class="rounded-lg shadow-md shadow-gray-300 p-4">
              <img src={post.frontmatter.heroImage} alt="" class="m-auto p-4" />
              <a
                href={`/data/${post.frontmatter.urlBase}`}
                class="font-bold font-secondary"
              >
                {post.frontmatter.title}
              </a>{" "}
              <br />
              <p class="font-bold font-secondary">{post.frontmatter.author}</p>
              <time datetime={post.frontmatter.pubDate}>
                {new Date(post.frontmatter.pubDate).toLocaleDateString(
                  "en-us",
                  {
                    year: "numeric",
                    month: "short",
                    day: "numeric",
                  }
                )}
              </time>
              <p class="p-4">{post.frontmatter.description}</p>
            </div>
          </li>
        ))
      }
    </ul>
  </section>
</Layout>

<style>
  .grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
  }
  .tile {
    padding: 50px;
    margin: 50px;
    text-align: left;
  }
  img {
    width: 350px;
  }
</style>
